constant SINE_LUT: const f64[361] = 
{
    0.000000,0.841471,0.909297,0.141120,-0.756802,-0.958924,-0.279415,0.656987,0.989358,0.412118,-0.544021,
    -0.999990,-0.536573,0.420167,0.990607,0.650288,-0.287903,-0.961397,-0.750987,0.149877,0.912945,
    0.836656,-0.008851,-0.846220,-0.905578,-0.132352,0.762558,0.956376,0.270906,-0.663634,-0.988032,
    -0.404038,0.551427,0.999912,0.529083,-0.428183,-0.991779,-0.643538,0.296369,0.963795,0.745113,
    -0.158623,-0.916522,-0.831775,0.017702,0.850904,0.901788,0.123573,-0.768255,-0.953753,-0.262375,
    0.670229,0.986628,0.395925,-0.558789,-0.999755,-0.521551,0.436165,0.992873,0.636738,-0.304811,
    -0.966118,-0.739181,0.167356,0.920026,0.826829,-0.026551,-0.855520,-0.897928,-0.114785,0.773891,
    0.951055,0.253823,-0.676772,-0.985146,-0.387782,0.566108,0.999520,0.513978,-0.444113,-0.993889,
    -0.629888,0.313229,0.968364,0.733190,-0.176076,-0.923458,-0.821818,0.035398,0.860069,0.893997,
    0.105988,-0.779466,-0.948282,-0.245252,0.683262,0.983588,0.379608,-0.573382,-0.999207,-0.506366,
    0.452026,0.994827,0.622989,-0.321622,-0.970535,-0.727143,0.184782,0.926819,0.816743,-0.044243,
    -0.864551,-0.889996,-0.097182,0.784980,0.945435,0.236661,-0.689698,-0.981952,-0.371404,0.580611,
    0.998815,0.498713,-0.459903,-0.995687,-0.616040,0.329991,0.972630,0.721038,-0.193473,-0.930106,
    -0.811603,0.053084,0.868966,0.885925,0.088369,-0.790433,-0.942514,-0.228052,0.696080,0.980240,
    0.363171,-0.587795,-0.998345,-0.491022,0.467745,0.996469,0.609044,-0.338333,-0.974649,-0.714876,
    0.202150,0.933321,0.806401,-0.061920,-0.873312,-0.881785,-0.079549,0.795824,0.939520,0.219425,
    -0.702408,-0.978450,-0.354910,0.594933,0.997797,0.483292,-0.475550,-0.997173,-0.602000,0.346649,
    0.976591,0.708659,-0.210811,-0.936462,-0.801135,0.070752,0.877590,0.877575,0.070722,-0.801153,
    -0.936451,-0.210781,0.708680,0.976584,0.346621,-0.602024,-0.997171,-0.475524,0.483318,0.997799,
    0.594909,-0.354938,-0.978457,-0.702386,0.219455,0.939530,0.795806,-0.079579,-0.881799,-0.873297,
    -0.061890,0.806418,0.933310,0.202120,-0.714898,-0.974642,-0.338305,0.609068,0.996467,0.467719,
    -0.491048,-0.998347,-0.587771,0.363199,0.980246,0.696058,-0.228082,-0.942525,-0.790415,0.088399,
    0.885939,0.868951,0.053053,-0.811621,-0.930095,-0.193444,0.721059,0.972623,0.329962,-0.616064,
    -0.995684,-0.459877,0.498739,0.998817,0.580587,-0.371432,-0.981958,-0.689676,0.236691,0.945445,
    0.784962,-0.097212,-0.890009,-0.864536,-0.044213,0.816760,0.926807,0.184752,-0.727163,-0.970528,
    -0.321594,0.623012,0.994824,0.451999,-0.506392,-0.999208,-0.573357,0.379636,0.983593,0.683240,
    -0.245281,-0.948292,-0.779447,0.106017,0.894010,0.860054,0.035368,-0.821835,-0.923447,-0.176046,
    0.733211,0.968357,0.313200,-0.629911,-0.993885,-0.444086,0.514004,0.999521,0.566083,-0.387809,
    -0.985151,-0.676750,0.253853,0.951064,0.773872,-0.114815,-0.897941,-0.855504,-0.026521,0.826846,
    0.920014,0.167326,-0.739201,-0.966110,-0.304782,0.636761,0.992869,0.436138,-0.521577,-0.999756,
    -0.558764,0.395953,0.986633,0.670207,-0.262404,-0.953762,-0.768235,0.123603,0.901801,0.850888,
    0.017672,-0.831791,-0.916509,-0.158593,0.745133,0.963787,0.296340,-0.643561,-0.991775,-0.428155,
    0.529108,0.999912,0.551402,-0.404065,-0.988036,-0.663611,0.270935,0.956385,0.762539,-0.132382,
    -0.905591,-0.846204,-0.008821,0.836672,0.912933,0.149847,-0.751007,-0.961389,-0.287874,0.650311,
    0.990603,0.420140,-0.536598,-0.999990,-0.543996,0.412146,0.989363,0.656964,-0.279444,-0.958933,
    -0.756783,0.141150,0.909310,0.841455,-0.000030,-0.841487,-0.909285,-0.141090,0.756822,0.958916
};


constant COS_LUT: const f64[361] = 
{
    1.000000,0.540302,-0.416147,-0.989992,-0.653644,0.283662,0.960170,0.753902,-0.145500,-0.911130,-0.839072,
    0.004426,0.843854,0.907447,0.136737,-0.759688,-0.957659,-0.275163,0.660317,0.988705,0.408082,
    -0.547729,-0.999961,-0.532833,0.424179,0.991203,0.646919,-0.292139,-0.962606,-0.748058,0.154251,
    0.914742,0.834223,-0.013277,-0.848570,-0.903692,-0.127964,0.765414,0.955074,0.266643,-0.666938,
    -0.987339,-0.399985,0.555113,0.999843,0.525322,-0.432178,-0.992335,-0.640144,0.300593,0.964966,
    0.742154,-0.162991,-0.918283,-0.829310,0.022127,0.853220,0.899867,0.119180,-0.771080,-0.952413,
    -0.258102,0.673507,0.985897,0.391857,-0.562454,-0.999647,-0.517770,0.440143,0.993390,0.633319,
    -0.309023,-0.967251,-0.736193,0.171717,0.921751,0.824331,-0.030975,-0.857803,-0.895971,-0.110387,
    0.776686,0.949678,0.249540,-0.680023,-0.984377,-0.383698,0.569750,0.999373,0.510177,-0.448074,
    -0.994367,-0.626444,0.317429,0.969459,0.730174,-0.180430,-0.925148,-0.819288,0.039821,0.862319,
    0.892005,0.101586,-0.782231,-0.946868,-0.240959,0.686487,0.982780,0.375510,-0.577002,-0.999021,
    -0.502544,0.455969,0.995267,0.619521,-0.325810,-0.971592,-0.724097,0.189129,0.928471,0.814181,
    -0.048664,-0.866767,-0.887969,-0.092776,0.787715,0.943984,0.232359,-0.692896,-0.981106,-0.367291,
    0.584209,0.998590,0.494872,-0.463829,-0.996088,-0.612548,0.334165,0.973649,0.717964,-0.197814,
    -0.931722,-0.809010,0.057503,0.871147,0.883863,0.083959,-0.793136,-0.941026,-0.223741,0.699251,
    0.979355,0.359044,-0.591370,-0.998081,-0.487161,0.471652,0.996831,0.605528,-0.342495,-0.975629,
    -0.711775,0.206482,0.934900,0.803775,-0.066337,-0.875459,-0.879689,-0.075136,0.798496,0.937995,
    0.215105,-0.705551,-0.977527,-0.350769,0.598484,0.997494,0.479412,-0.479439,-0.997496,-0.598460,
    0.350797,0.977533,0.705530,-0.215135,-0.938005,-0.798478,0.075166,0.879703,0.875445,0.066307,
    -0.803793,-0.934890,-0.206453,0.711796,0.975623,0.342466,-0.605552,-0.996829,-0.471626,0.487188,
    0.998083,0.591345,-0.359072,-0.979361,-0.699229,0.223770,0.941037,0.793118,-0.083989,-0.883877,
    -0.871133,-0.057472,0.809028,0.931711,0.197784,-0.717985,-0.973642,-0.334137,0.612572,0.996085,
    0.463802,-0.494898,-0.998592,-0.584184,0.367319,0.981111,0.692874,-0.232388,-0.943994,-0.787696,
    0.092806,0.887983,0.866752,0.048634,-0.814198,-0.928460,-0.189100,0.724118,0.971585,0.325781,
    -0.619544,-0.995264,-0.455942,0.502570,0.999022,0.576978,-0.375538,-0.982785,-0.686465,0.240988,
    0.946878,0.782212,-0.101616,-0.892018,-0.862304,-0.039791,0.819306,0.925136,0.180401,-0.730194,
    -0.969452,-0.317400,0.626468,0.994364,0.448047,-0.510203,-0.999374,-0.569726,0.383726,0.984382,
    0.680001,-0.249569,-0.949687,-0.776667,0.110417,0.895984,0.857788,0.030945,-0.824348,-0.921740,
    -0.171688,0.736213,0.967243,0.308994,-0.633343,-0.993387,-0.440116,0.517796,0.999648,0.562429,
    -0.391885,-0.985902,-0.673485,0.258131,0.952422,0.771061,-0.119210,-0.899880,-0.853204,-0.022097,
    0.829327,0.918271,0.162961,-0.742174,-0.964958,-0.300564,0.640167,0.992332,0.432151,-0.525348,
    -0.999844,-0.555088,0.400013,0.987344,0.666916,-0.266672,-0.955083,-0.765395,0.127994,0.903705,
    0.848554,0.013247,-0.834240,-0.914730,-0.154222,0.748078,0.962598,0.292110,-0.646942,-0.991199,
    -0.424152,0.532859,0.999961,0.547704,-0.408110,-0.988709,-0.660294,0.275192,0.957668,0.759668,
    -0.136767,-0.907459,-0.843838,-0.004396,0.839088,0.911118,0.145470,-0.753922,-0.960162,-0.283633,
    0.653666,0.989988,0.416119,-0.540328,-1.000000,-0.540277,0.416174,0.989997,0.653621,-0.283691
};


// TODO: Must be a faster way to calc this
func fmod(value: f64, limit: f64) f64
{
    while value > limit
    {
        value -= limit;
    }

    return value;
}

// TODO: There are better ways to do a LUT than this.
func sine(value: f64) f64
{
    value = fmod(value,360.0);

    return SINE_LUT[cast(u32,value)];
}

// TODO: There are better ways to do a LUT than this.
func cos(value: f64) f64
{
    value = fmod(value,360.0);

    return COS_LUT[cast(u32,value)];
}