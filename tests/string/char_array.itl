

func c8 to_lower(c8 char)
{
    if(char >= 'A' && char <= 'Z')
    {
        char -= 0x20;
    }

    return char;
}


u32 hamming_weight(u32 set)
{
    u32 sum = 0;

    // TODO: add way to query internal type limits
    for(u32 i = 0; i < 32; i++)
    {
        sum += cast(u32,is_set(set,i));
    }

    return sum;
}

u32 set_bit(u32 v, u32 bit)
{
    return set | (1 << bit);
}


func s32 main()
{
    c8[] str = "Hello there";

    u32 set = 0;

    for(u32 i = 0; i < str.len; i++)
    {
        str[i] = to_lower(str[i]);

        u8 x = str[i] - 'a';

        set = set_bit(set,x);
    }

    return hamming_weight(set);
}