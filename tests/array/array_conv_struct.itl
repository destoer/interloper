// expected 6

func sum(arr: u32[]) u32
{
    ans: u32 = 0;

    for(i : u32 = 0; i < arr.len; i += 1)
    {
        ans += arr[i];
    }

    return ans;
}

struct Foo
{
    arr : u32[3];
}

func main() s32
{
    foo : Foo;

    // TODO: this cant use a initializer yet..
    for(i : u32 = 0; i < foo.arr.len; i += 1)
    {
        foo.arr[i] = i + 1;
    }

    // array should get converted into a runtime sized array
    // when passed
    return sum(foo.arr);
}